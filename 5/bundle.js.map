{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./node_modules/dayjs/dayjs.min.js","webpack:///./node_modules/dayjs/plugin/relativeTime.js","webpack:///./node_modules/nanoid/index.browser.js","webpack:///./node_modules/nanoid/url-alphabet/index.js","webpack:///./src/const.js","webpack:///./src/main.js","webpack:///./src/mock/film.js","webpack:///./src/mock/filter.js","webpack:///./src/presenter/film-list.js","webpack:///./src/utils/common.js","webpack:///./src/utils/project.js","webpack:///./src/utils/render.js","webpack:///./src/view/abstract.js","webpack:///./src/view/comments.js","webpack:///./src/view/film-card.js","webpack:///./src/view/film-count.js","webpack:///./src/view/film-details.js","webpack:///./src/view/film-list.js","webpack:///./src/view/films-sort.js","webpack:///./src/view/filter.js","webpack:///./src/view/most-commented-films.js","webpack:///./src/view/no-films.js","webpack:///./src/view/show-more-button.js","webpack:///./src/view/smart.js","webpack:///./src/view/top-rated-films.js","webpack:///./src/view/user-rating.js"],"names":[],"mappings":"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;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,mDAAmD,UAAU;AAC7D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA,+CAA+C,UAAU;AACzD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;;AAEoE;;;;;;;;;;;;;ACxGpE;AAAA;AAAA;AACA;AACA;AACA;;AAEsB;;;;;;;;;;;;;ACLtB;AAAA;AAAA;AAAA;AAAO;;AAEA;;AAEA;AACP;AACA;AACA;AACA;;;;;;;;;;;;;ACRA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAyD;AACT;AACG;AACT;AACO;AACL;AACS;AACI;;AAEzD,wBAAwB,8DAAU,aAAa,0DAAY;AAC3D,gBAAgB,2EAAmB;;AAEnC;AACA;AACA;;AAEA,8BAA8B,+DAAiB;;AAE/C,+DAAM,wBAAwB,4DAAc,iBAAiB,+DAAc;AAC3E,+DAAM,sBAAsB,uDAAU,wBAAwB,+DAAc;;AAE5E;;AAEA,+DAAM,uBAAuB,2DAAa,iBAAiB,+DAAc;;;;;;;;;;;;;ACvBzE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAA0B;AAC2B;AACvB;AACiI;AAC7G;AACf;;AAEnC;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA,4CAAK,QAAQ,gEAAY;;AAEzB;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AA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ACA;;AAEe,qBAAqB,oDAAY;AAChD;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;;;;;;;;;;;;AC5BA;AAAA;AAAA;AAAyC;;AAEzC;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEe,iCAAiC,oDAAY;AAC5D;AACA;AACA;AACA;;;;;;;;;;;;;ACjBA;AAAA;AAAA;AAAyC;;AAEzC;AACA;AACA;AACA;AACA;AACA;AACA;;AAEe,wBAAwB,oDAAY;AACnD;AACA;AACA;AACA;;;;;;;;;;;;;ACdA;AAAA;AAAA;AAAyC;;AAEzC;AACA;AACA;AACA;AACA;;AAEe,6BAA6B,oDAAY;AACxD;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;AC3BA;AAAA;AAAA;AAAyC;;AAE1B,oBAAoB,oDAAY;AAC/C;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA,UAAU;AACV;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;;;;;;;;;;;;;AChCA;AAAA;AAAA;AAAyC;;AAEzC;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;;AAGe,4BAA4B,oDAAY;AACvD;AACA;AACA;AACA;;;;;;;;;;;;;AClBA;AAAA;AAAA;AAAyC;;AAEzC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEe,yBAAyB,oDAAY;AACpD;AACA;AACA;AACA","file":"bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"./src/main.js\");\n","!function(t,e){\"object\"==typeof exports&&\"undefined\"!=typeof module?module.exports=e():\"function\"==typeof define&&define.amd?define(e):t.dayjs=e()}(this,function(){\"use strict\";var t=\"millisecond\",e=\"second\",n=\"minute\",r=\"hour\",i=\"day\",s=\"week\",u=\"month\",a=\"quarter\",o=\"year\",f=\"date\",h=/^(\\d{4})[-/]?(\\d{1,2})?[-/]?(\\d{0,2})[^0-9]*(\\d{1,2})?:?(\\d{1,2})?:?(\\d{1,2})?.?(\\d+)?$/,c=/\\[([^\\]]+)]|Y{2,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,d={name:\"en\",weekdays:\"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday\".split(\"_\"),months:\"January_February_March_April_May_June_July_August_September_October_November_December\".split(\"_\")},$=function(t,e,n){var r=String(t);return!r||r.length>=e?t:\"\"+Array(e+1-r.length).join(n)+t},l={s:$,z:function(t){var e=-t.utcOffset(),n=Math.abs(e),r=Math.floor(n/60),i=n%60;return(e<=0?\"+\":\"-\")+$(r,2,\"0\")+\":\"+$(i,2,\"0\")},m:function t(e,n){if(e.date()<n.date())return-t(n,e);var r=12*(n.year()-e.year())+(n.month()-e.month()),i=e.clone().add(r,u),s=n-i<0,a=e.clone().add(r+(s?-1:1),u);return+(-(r+(n-i)/(s?i-a:a-i))||0)},a:function(t){return t<0?Math.ceil(t)||0:Math.floor(t)},p:function(h){return{M:u,y:o,w:s,d:i,D:f,h:r,m:n,s:e,ms:t,Q:a}[h]||String(h||\"\").toLowerCase().replace(/s$/,\"\")},u:function(t){return void 0===t}},y=\"en\",M={};M[y]=d;var m=function(t){return t instanceof S},D=function(t,e,n){var r;if(!t)return y;if(\"string\"==typeof t)M[t]&&(r=t),e&&(M[t]=e,r=t);else{var i=t.name;M[i]=t,r=i}return!n&&r&&(y=r),r||!n&&y},v=function(t,e){if(m(t))return t.clone();var n=\"object\"==typeof e?e:{};return n.date=t,n.args=arguments,new S(n)},g=l;g.l=D,g.i=m,g.w=function(t,e){return v(t,{locale:e.$L,utc:e.$u,x:e.$x,$offset:e.$offset})};var S=function(){function d(t){this.$L=D(t.locale,null,!0),this.parse(t)}var $=d.prototype;return $.parse=function(t){this.$d=function(t){var e=t.date,n=t.utc;if(null===e)return new Date(NaN);if(g.u(e))return new Date;if(e instanceof Date)return new Date(e);if(\"string\"==typeof e&&!/Z$/i.test(e)){var r=e.match(h);if(r){var i=r[2]-1||0,s=(r[7]||\"0\").substring(0,3);return n?new Date(Date.UTC(r[1],i,r[3]||1,r[4]||0,r[5]||0,r[6]||0,s)):new Date(r[1],i,r[3]||1,r[4]||0,r[5]||0,r[6]||0,s)}}return new Date(e)}(t),this.$x=t.x||{},this.init()},$.init=function(){var t=this.$d;this.$y=t.getFullYear(),this.$M=t.getMonth(),this.$D=t.getDate(),this.$W=t.getDay(),this.$H=t.getHours(),this.$m=t.getMinutes(),this.$s=t.getSeconds(),this.$ms=t.getMilliseconds()},$.$utils=function(){return g},$.isValid=function(){return!(\"Invalid Date\"===this.$d.toString())},$.isSame=function(t,e){var n=v(t);return this.startOf(e)<=n&&n<=this.endOf(e)},$.isAfter=function(t,e){return v(t)<this.startOf(e)},$.isBefore=function(t,e){return this.endOf(e)<v(t)},$.$g=function(t,e,n){return g.u(t)?this[e]:this.set(n,t)},$.unix=function(){return Math.floor(this.valueOf()/1e3)},$.valueOf=function(){return this.$d.getTime()},$.startOf=function(t,a){var h=this,c=!!g.u(a)||a,d=g.p(t),$=function(t,e){var n=g.w(h.$u?Date.UTC(h.$y,e,t):new Date(h.$y,e,t),h);return c?n:n.endOf(i)},l=function(t,e){return g.w(h.toDate()[t].apply(h.toDate(\"s\"),(c?[0,0,0,0]:[23,59,59,999]).slice(e)),h)},y=this.$W,M=this.$M,m=this.$D,D=\"set\"+(this.$u?\"UTC\":\"\");switch(d){case o:return c?$(1,0):$(31,11);case u:return c?$(1,M):$(0,M+1);case s:var v=this.$locale().weekStart||0,S=(y<v?y+7:y)-v;return $(c?m-S:m+(6-S),M);case i:case f:return l(D+\"Hours\",0);case r:return l(D+\"Minutes\",1);case n:return l(D+\"Seconds\",2);case e:return l(D+\"Milliseconds\",3);default:return this.clone()}},$.endOf=function(t){return this.startOf(t,!1)},$.$set=function(s,a){var h,c=g.p(s),d=\"set\"+(this.$u?\"UTC\":\"\"),$=(h={},h[i]=d+\"Date\",h[f]=d+\"Date\",h[u]=d+\"Month\",h[o]=d+\"FullYear\",h[r]=d+\"Hours\",h[n]=d+\"Minutes\",h[e]=d+\"Seconds\",h[t]=d+\"Milliseconds\",h)[c],l=c===i?this.$D+(a-this.$W):a;if(c===u||c===o){var y=this.clone().set(f,1);y.$d[$](l),y.init(),this.$d=y.set(f,Math.min(this.$D,y.daysInMonth())).$d}else $&&this.$d[$](l);return this.init(),this},$.set=function(t,e){return this.clone().$set(t,e)},$.get=function(t){return this[g.p(t)]()},$.add=function(t,a){var f,h=this;t=Number(t);var c=g.p(a),d=function(e){var n=v(h);return g.w(n.date(n.date()+Math.round(e*t)),h)};if(c===u)return this.set(u,this.$M+t);if(c===o)return this.set(o,this.$y+t);if(c===i)return d(1);if(c===s)return d(7);var $=(f={},f[n]=6e4,f[r]=36e5,f[e]=1e3,f)[c]||1,l=this.$d.getTime()+t*$;return g.w(l,this)},$.subtract=function(t,e){return this.add(-1*t,e)},$.format=function(t){var e=this;if(!this.isValid())return\"Invalid Date\";var n=t||\"YYYY-MM-DDTHH:mm:ssZ\",r=g.z(this),i=this.$locale(),s=this.$H,u=this.$m,a=this.$M,o=i.weekdays,f=i.months,h=function(t,r,i,s){return t&&(t[r]||t(e,n))||i[r].substr(0,s)},d=function(t){return g.s(s%12||12,t,\"0\")},$=i.meridiem||function(t,e,n){var r=t<12?\"AM\":\"PM\";return n?r.toLowerCase():r},l={YY:String(this.$y).slice(-2),YYYY:this.$y,M:a+1,MM:g.s(a+1,2,\"0\"),MMM:h(i.monthsShort,a,f,3),MMMM:h(f,a),D:this.$D,DD:g.s(this.$D,2,\"0\"),d:String(this.$W),dd:h(i.weekdaysMin,this.$W,o,2),ddd:h(i.weekdaysShort,this.$W,o,3),dddd:o[this.$W],H:String(s),HH:g.s(s,2,\"0\"),h:d(1),hh:d(2),a:$(s,u,!0),A:$(s,u,!1),m:String(u),mm:g.s(u,2,\"0\"),s:String(this.$s),ss:g.s(this.$s,2,\"0\"),SSS:g.s(this.$ms,3,\"0\"),Z:r};return n.replace(c,function(t,e){return e||l[t]||r.replace(\":\",\"\")})},$.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},$.diff=function(t,f,h){var c,d=g.p(f),$=v(t),l=6e4*($.utcOffset()-this.utcOffset()),y=this-$,M=g.m(this,$);return M=(c={},c[o]=M/12,c[u]=M,c[a]=M/3,c[s]=(y-l)/6048e5,c[i]=(y-l)/864e5,c[r]=y/36e5,c[n]=y/6e4,c[e]=y/1e3,c)[d]||y,h?M:g.a(M)},$.daysInMonth=function(){return this.endOf(u).$D},$.$locale=function(){return M[this.$L]},$.locale=function(t,e){if(!t)return this.$L;var n=this.clone(),r=D(t,e,!0);return r&&(n.$L=r),n},$.clone=function(){return g.w(this.$d,this)},$.toDate=function(){return new Date(this.valueOf())},$.toJSON=function(){return this.isValid()?this.toISOString():null},$.toISOString=function(){return this.$d.toISOString()},$.toString=function(){return this.$d.toUTCString()},d}(),p=S.prototype;return v.prototype=p,[[\"$ms\",t],[\"$s\",e],[\"$m\",n],[\"$H\",r],[\"$W\",i],[\"$M\",u],[\"$y\",o],[\"$D\",f]].forEach(function(t){p[t[1]]=function(e){return this.$g(e,t[0],t[1])}}),v.extend=function(t,e){return t(e,S,v),v},v.locale=D,v.isDayjs=m,v.unix=function(t){return v(1e3*t)},v.en=M[y],v.Ls=M,v.p={},v});\n","!function(r,t){\"object\"==typeof exports&&\"undefined\"!=typeof module?module.exports=t():\"function\"==typeof define&&define.amd?define(t):r.dayjs_plugin_relativeTime=t()}(this,function(){\"use strict\";return function(r,t,e){r=r||{};var n=t.prototype,o={future:\"in %s\",past:\"%s ago\",s:\"a few seconds\",m:\"a minute\",mm:\"%d minutes\",h:\"an hour\",hh:\"%d hours\",d:\"a day\",dd:\"%d days\",M:\"a month\",MM:\"%d months\",y:\"a year\",yy:\"%d years\"};e.en.relativeTime=o;var d=function(t,n,d,i){for(var u,a,s,f=d.$locale().relativeTime||o,l=r.thresholds||[{l:\"s\",r:44,d:\"second\"},{l:\"m\",r:89},{l:\"mm\",r:44,d:\"minute\"},{l:\"h\",r:89},{l:\"hh\",r:21,d:\"hour\"},{l:\"d\",r:35},{l:\"dd\",r:25,d:\"day\"},{l:\"M\",r:45},{l:\"MM\",r:10,d:\"month\"},{l:\"y\",r:17},{l:\"yy\",d:\"year\"}],h=l.length,m=0;m<h;m+=1){var c=l[m];c.d&&(u=i?e(t).diff(d,c.d,!0):d.diff(t,c.d,!0));var y=(r.rounding||Math.round)(Math.abs(u));if(s=u>0,y<=c.r||!c.r){y<=1&&m>0&&(c=l[m-1]);var p=f[c.l];a=\"string\"==typeof p?p.replace(\"%d\",y):p(y,n,c.l,s);break}}return n?a:(s?f.future:f.past).replace(\"%s\",a)};n.to=function(r,t){return d(r,t,this,!0)},n.from=function(r,t){return d(r,t,this)};var i=function(r){return r.$u?e.utc():e()};n.toNow=function(r){return this.to(i(this),r)},n.fromNow=function(r){return this.from(i(this),r)}}});\n","// This file replaces `index.js` in bundlers like webpack or Rollup,\n// according to `browser` config in `package.json`.\n\nimport { urlAlphabet } from './url-alphabet/index.js'\n\nif (process.env.NODE_ENV !== 'production') {\n  // All bundlers will remove this block in the production bundle.\n  if (\n    typeof navigator !== 'undefined' &&\n    navigator.product === 'ReactNative' &&\n    typeof crypto === 'undefined'\n  ) {\n    throw new Error(\n      'React Native does not have a built-in secure random generator. ' +\n        'If you don’t need unpredictable IDs use `nanoid/non-secure`. ' +\n        'For secure IDs, import `react-native-get-random-values` ' +\n        'before Nano ID. If you use Expo, install `expo-random` ' +\n        'and use `nanoid/async`.'\n    )\n  }\n  if (typeof msCrypto !== 'undefined' && typeof crypto === 'undefined') {\n    throw new Error(\n      'Import file with `if (!window.crypto) window.crypto = window.msCrypto`' +\n        ' before importing Nano ID to fix IE 11 support'\n    )\n  }\n  if (typeof crypto === 'undefined') {\n    throw new Error(\n      'Your browser does not have secure random generator. ' +\n        'If you don’t need unpredictable IDs, you can use nanoid/non-secure.'\n    )\n  }\n}\n\nlet random = bytes => crypto.getRandomValues(new Uint8Array(bytes))\n\nlet customRandom = (alphabet, size, getRandom) => {\n  // First, a bitmask is necessary to generate the ID. The bitmask makes bytes\n  // values closer to the alphabet size. The bitmask calculates the closest\n  // `2^31 - 1` number, which exceeds the alphabet size.\n  // For example, the bitmask for the alphabet size 30 is 31 (00011111).\n  // `Math.clz32` is not used, because it is not available in browsers.\n  let mask = (2 << (Math.log(alphabet.length - 1) / Math.LN2)) - 1\n  // Though, the bitmask solution is not perfect since the bytes exceeding\n  // the alphabet size are refused. Therefore, to reliably generate the ID,\n  // the random bytes redundancy has to be satisfied.\n\n  // Note: every hardware random generator call is performance expensive,\n  // because the system call for entropy collection takes a lot of time.\n  // So, to avoid additional system calls, extra bytes are requested in advance.\n\n  // Next, a step determines how many random bytes to generate.\n  // The number of random bytes gets decided upon the ID size, mask,\n  // alphabet size, and magic number 1.6 (using 1.6 peaks at performance\n  // according to benchmarks).\n\n  // `-~f => Math.ceil(f)` if f is a float\n  // `-~i => i + 1` if i is an integer\n  let step = -~((1.6 * mask * size) / alphabet.length)\n\n  return () => {\n    let id = ''\n    while (true) {\n      let bytes = getRandom(step)\n      // A compact alternative for `for (var i = 0; i < step; i++)`.\n      let j = step\n      while (j--) {\n        // Adding `|| ''` refuses a random byte that exceeds the alphabet size.\n        id += alphabet[bytes[j] & mask] || ''\n        if (id.length === size) return id\n      }\n    }\n  }\n}\n\nlet customAlphabet = (alphabet, size) => customRandom(alphabet, size, random)\n\nlet nanoid = (size = 21) => {\n  let id = ''\n  let bytes = crypto.getRandomValues(new Uint8Array(size))\n\n  // A compact alternative for `for (var i = 0; i < step; i++)`.\n  while (size--) {\n    // It is incorrect to use bytes exceeding the alphabet size.\n    // The following mask reduces the random byte in the 0-255 value\n    // range to the 0-63 value range. Therefore, adding hacks, such\n    // as empty string fallback or magic numbers, is unneccessary because\n    // the bitmask trims bytes down to the alphabet size.\n    let byte = bytes[size] & 63\n    if (byte < 36) {\n      // `0-9a-z`\n      id += byte.toString(36)\n    } else if (byte < 62) {\n      // `A-Z`\n      id += (byte - 26).toString(36).toUpperCase()\n    } else if (byte < 63) {\n      id += '_'\n    } else {\n      id += '-'\n    }\n  }\n  return id\n}\n\nexport { nanoid, customAlphabet, customRandom, urlAlphabet, random }\n","// This alphabet uses `A-Za-z0-9_-` symbols. The genetic algorithm helped\n// optimize the gzip compression for this alphabet.\nlet urlAlphabet =\n  'ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW'\n\nexport { urlAlphabet }\n","export const MAX_DESCRIPTION_LENGTH = 140;\n\nexport const EMOJIS = [`smile`, `angry`, `puke`, `sleeping`];\n\nexport const SortType = {\n  DEFAULT: `default`,\n  DATE: `date`,\n  RATING: `rating`,\n};\n","import {render, RenderPosition} from \"./utils/render.js\";\nimport {FILM_COUNT} from \"./view/film-count.js\";\nimport UserRatingView from \"./view/user-rating.js\";\nimport FilterView from \"./view/filter.js\";\nimport FilmCountView from \"./view/film-count.js\";\nimport {generateFilm} from \"./mock/film.js\";\nimport {generateFilmsFilter} from \"./mock/filter.js\";\nimport FilmListPresenter from \"./presenter/film-list.js\";\n\nconst films = new Array(FILM_COUNT).fill().map(generateFilm);\nconst filters = generateFilmsFilter(films);\n\nconst siteHeaderElement = document.querySelector(`.header`);\nconst siteMainElement = document.querySelector(`.main`);\nconst filmCountElement = document.querySelector(`.footer__statistics`);\n\nconst filmListPresenter = new FilmListPresenter(siteMainElement);\n\nrender(siteHeaderElement, new UserRatingView().getElement(), RenderPosition.BEFOREEND);\nrender(siteMainElement, new FilterView(filters).getElement(), RenderPosition.BEFOREEND);\n\nfilmListPresenter.init(films);\n\nrender(filmCountElement, new FilmCountView().getElement(), RenderPosition.BEFOREEND);\n","import dayjs from \"dayjs\";\nimport relativeTime from \"dayjs/plugin/relativeTime\";\nimport {nanoid} from \"nanoid\";\nimport {getRandomInteger, getRandomNumber, getElementFromArray, generateSentenceFromString, generateRandomArray, generateRandomDate} from \"../utils/common.js\";\nimport {getFormatTime} from \"../utils/project.js\";\nimport {EMOJIS} from \"../const.js\";\n\nconst NAMES_MIN_COUNT = 2;\nconst NAMES_MAX_COUNT = 4;\nconst GENRES_MIN_COUNT = 1;\nconst GENRES_MAX_COUNT = 4;\n\nconst COMMENT_MIN_COUNT = 1;\nconst COMMENT_MAX_COUNT = 5;\nconst RATING_MIN_VALUE = 1;\nconst RATING_MAX_VALUE = 10;\n\nconst FILM_CREATE_MIN_DATE = `1900, 2, 1`;\nconst FILM_MIN_DURATION = 1200;\nconst FILM_MAX_DURATION = 14400;\n\nconst COMMENTS_MIN_COUNT = 1;\nconst COMMENTS_MAX_COUNT = 5;\n\nconst DATE_OF_FIRST_COMMENT = `2020, 2, 1`;\n\ndayjs.extend(relativeTime);\n\nconst filmTitles = [\n  `The Dance of Life`,\n  `Sagebrush Trail`,\n  `The Man with the Golden Arm`,\n  `Santa Claus Conquers the Martians`,\n  `Popeye the Sailor Meets Sindbad the Sailor`,\n];\n\nconst filmPosters = [\n  `made-for-each-other.png`,\n  `popeye-meets-sinbad.png`,\n  `sagebrush-trail.jpg`,\n  `santa-claus-conquers-the-martians.jpg`,\n  `the-dance-of-life.jpg`,\n  `the-great-flamarion.jpg`,\n  `the-man-with-the-golden-arm.jpg`,\n];\n\nconst descriptionString = `Lorem ipsum dolor sit amet, consectetur adipiscing elit. Cras aliquet varius magna, non porta ligula feugiat eget. Fusce tristique felis at fermentum pharetra. Aliquam id orci ut lectus varius viverra. Nullam nunc ex, convallis sed finibus eget, sollicitudin eget ante. Phasellus eros mauris, condimentum sed nibh vitae, sodales efficitur ipsum. Sed blandit, eros vel aliquam faucibus, purus ex euismod diam, eu luctus nunc ante ut dui. Sed sed nisi sed augue convallis suscipit in sed felis. Aliquam erat volutpat. Nunc fermentum tortor ac porta dapibus. In rutrum ac purus sit amet tempus.`;\n\nconst descriptionArray = descriptionString.split(`. `);\n\nconst filmGenres = [`Western`, `Musical`, `Drama`, `Comedy`, `Cartoon`, `Horror`, `Film-Noir`, `Mystery`];\n\nconst filmOriginTitles = [\n  `The Dance of Life`,\n  `Sagebrush Trail`,\n  `The Man with the Golden Arm`,\n  `Santa Claus Conquers the Martians`,\n  `Popeye the Sailor Meets Sindbad the Sailor`,\n];\n\nconst namesOfDirectors = [\n  `Steven Spielberg`,\n  `Martin Scorsese `,\n  `Alfred Hitchcock`,\n  `Stanley Kubrick`,\n  `Quentin Tarantino`,\n  `Orson Welles`,\n  `Francis Ford Coppola`,\n  `Ridley Scott`,\n];\n\nconst namesOfWriters = [\n  `David O. Russell`,\n  `James Cameron`,\n  `Aaron Sorkin`,\n  `John Ridley`,\n  `Quentin Tarantino`,\n  `Steven Spielberg`,\n];\n\nconst namesOfActors = [\n  `Robert De Niro`,\n  `Jack Nicholson`,\n  `Meryl Streep`,\n  `Tom Hanks`,\n  `Leonardo DiCaprio`,\n  `Kate Winslet`,\n  `Jodie Foster`,\n  `Charles Chaplin`,\n];\n\nconst names = [\n  `John Smith`,\n  `Lise Kane`,\n  `Michel Mur`,\n  `Genry Right`,\n  `Mary Black`,\n  `Tim Bert`,\n];\n\nconst countries = [`Canada`, `China`, `UK`, `Russia`, `Australia`, `USA`];\nconst ageLimits = [`0+`, `6+`, `12+`, `14+`, `16+`, `18+`];\n\nconst generateFilmComment = () => {\n  const commentDate = generateRandomDate(new Date(DATE_OF_FIRST_COMMENT), new Date());\n\n  return {\n    emoji: getElementFromArray(EMOJIS),\n    comment: generateSentenceFromString(descriptionString),\n    commentDate: commentDate.fromNow(),\n    author: getElementFromArray(names),\n  };\n};\n\nexport const generateFilm = () => {\n  const id = nanoid();\n  const filmTitle = getElementFromArray(filmTitles);\n  const filmPoster = getElementFromArray(filmPosters);\n  const description = generateRandomArray(descriptionArray, 1, 5);\n  const rating = getRandomNumber(RATING_MIN_VALUE, RATING_MAX_VALUE).toFixed(1);\n\n  const filmReleaseDate = generateRandomDate(new Date(FILM_CREATE_MIN_DATE), new Date());\n  const releaseDate = filmReleaseDate.format(`DD MMMM YYYY`);\n  const releaseYear = filmReleaseDate.format(`YYYY`);\n\n  const filmDurationInSecond = getRandomInteger(FILM_MIN_DURATION, FILM_MAX_DURATION);\n  const filmDuration = getFormatTime(filmDurationInSecond);\n  const genres = generateRandomArray(filmGenres, GENRES_MIN_COUNT, GENRES_MAX_COUNT);\n  const commentsCount = getRandomInteger(COMMENTS_MIN_COUNT, COMMENTS_MAX_COUNT);\n\n  const filmOriginTitle = getElementFromArray(filmOriginTitles);\n  const director = getElementFromArray(namesOfDirectors);\n  const writers = generateRandomArray(namesOfWriters, NAMES_MIN_COUNT, NAMES_MAX_COUNT).join(`, `);\n  const actors = generateRandomArray(namesOfActors, NAMES_MIN_COUNT, NAMES_MAX_COUNT).join(`, `);\n  const country = getElementFromArray(countries);\n  const ageLimit = getElementFromArray(ageLimits);\n\n  const comments = new Array(getRandomInteger(COMMENT_MIN_COUNT, COMMENT_MAX_COUNT)).fill().map(generateFilmComment);\n\n  return {\n    id,\n    filmTitle,\n    filmPoster,\n    description,\n    rating,\n    releaseYear,\n    filmDuration,\n    genres,\n    commentsCount,\n\n    filmOriginTitle,\n    director,\n    writers,\n    actors,\n    releaseDate,\n    country,\n    ageLimit,\n    isWatchlist: Boolean(getRandomInteger(0, 1)),\n    isWatched: Boolean(getRandomInteger(0, 1)),\n    isFavorite: Boolean(getRandomInteger(0, 1)),\n    isEmoji: Boolean(getRandomInteger(0, 1)),\n    comments,\n  };\n};\n","export const generateFilmsFilter = (films) => {\n  return {\n    watchlist: films.filter((film) => film.isWatchlist).length,\n    history: films.filter((film) => film.isWatched).length,\n    favorites: films.filter((film) => film.isFavorite).length,\n  };\n};\n","import {escPressHandler, sortByDate, sortByRating} from \"../utils/project.js\";\nimport {render, RenderPosition, remove, replace} from \"../utils/render.js\";\nimport {updateItem} from \"../utils/common.js\";\nimport {SortType} from \"../const.js\";\nimport SortView from \"../view/films-sort.js\";\nimport NoFilmsView from \"../view/no-films.js\";\nimport FilmListView from \"../view/film-list.js\";\nimport FilmCardView from \"../view/film-card.js\";\nimport FilmDetailsView from \"../view/film-details.js\";\nimport CommentsView from \"../view/comments.js\";\nimport ShowMoreButtonView from \"../view/show-more-button.js\";\nimport TopRatedFilmsView from \"../view/top-rated-films.js\";\nimport MostCommentedFilmsView from \"../view/most-commented-films.js\";\n\nconst FILM_COUNT_PER_STEP = 5;\nconst FILM_EXTRA_COUNT = 2;\n\nexport default class FilmList {\n  constructor(filmListContainer) {\n    this._filmListContainer = filmListContainer;\n    this._renderedFilmCount = FILM_COUNT_PER_STEP;\n\n    this._filmListComponent = new FilmListView();\n    this._sortComponent = new SortView(this._currentSortType);\n    this._noFilmsComponent = new NoFilmsView();\n    this._showMoreButtonComponent = new ShowMoreButtonView();\n    this._topRatedFilmsComponent = new TopRatedFilmsView();\n    this._mostCommentedFilmsComponent = new MostCommentedFilmsView();\n\n    this._cardComponent = new Map();\n    this._cardTopRatedComponent = new Map();\n    this._cardMostCommentedComponent = new Map();\n\n    this._filmDetailsComponent = null;\n    this._filmDetailsId = null;\n\n    this._currentSortType = SortType.DEFAULT;\n\n    this._handleWatchlistClick = this._handleWatchlistClick.bind(this);\n    this._handleWatchedClick = this._handleWatchedClick.bind(this);\n    this._handleFavoriteClick = this._handleFavoriteClick.bind(this);\n    this._escKeyDownHandler = this._escKeyDownHandler.bind(this);\n    this._closeFilmDetails = this._closeFilmDetails.bind(this);\n    this._handleSortTypeChange = this._handleSortTypeChange.bind(this);\n    this._handleShowMoreButtonClick = this._handleShowMoreButtonClick.bind(this);\n\n    this._renderFilmCard = this._renderFilmCard.bind(this);\n    this._renderExtraFilmCard = this._renderExtraFilmCard.bind(this);\n\n    this._filmsList = this._filmListComponent.getElement().querySelector(`.films-list`); // список\n    this._filmsContainer = this._filmListComponent.getElement().querySelector(`.films-list__container`); // карточки\n  }\n\n  init(films) {\n    this._films = films.slice();\n    this._sourcedFilms = films.slice();\n\n    render(this._filmListContainer, this._filmListComponent, RenderPosition.BEFOREEND);\n    this._renderFilmList();\n    this._renderExtraFilms();\n  }\n\n  _handleFilmChange(updatedFilm) {\n    this._films = updateItem(this._films, updatedFilm);\n    this._reRenderFilmCard(updatedFilm, this._cardComponent);\n    this._renderExtraFilmCard(updatedFilm, this._cardTopRatedComponent, this._topRatedContainer);\n    this._renderExtraFilmCard(updatedFilm, this._cardMostCommentedComponent, this._mostCommentedContainer);\n\n    if (updatedFilm.id === this._filmDetailsId && this._filmDetailsComponent) {\n      this._renderFilmDetails(updatedFilm);\n    }\n  }\n\n  _sortFilmCards(sortType) {\n    switch (sortType) {\n      case SortType.DATE:\n        this._films.sort(sortByDate);\n        break;\n      case SortType.RATING:\n        this._films.sort(sortByRating);\n        break;\n      default:\n        this._films = this._sourcedFilms.slice();\n    }\n\n    this._currentSortType = sortType;\n  }\n\n  _handleSortTypeChange(sortType) {\n    if (this._currentSortType === sortType) {\n      return;\n    }\n\n    this._sortFilmCards(sortType);\n    this._clearFilmList();\n    this._renderFilmList();\n  }\n\n  _renderSort() {\n    render(this._filmListContainer, this._sortComponent, RenderPosition.AFTERBEGIN);\n    this._sortComponent.setSortTypeChangeHandler(this._handleSortTypeChange);\n  }\n\n  _renderNoFilms() {\n    render(this._filmListContainer, this._noFilmsComponent, RenderPosition.BEFOREEND);\n  }\n\n  _createFilmCard(film) {\n    const filmCardComponent = new FilmCardView(film);\n\n    filmCardComponent.setFilmCardClickHandler(() => this._renderFilmDetails(film));\n    filmCardComponent.setWatchlistClickHandler(() => this._handleWatchlistClick(film));\n    filmCardComponent.setWatchedClickHandler(() => this._handleWatchedClick(film));\n    filmCardComponent.setFavoriteClickHandler(() => this._handleFavoriteClick(film));\n\n    return filmCardComponent;\n  }\n\n  _renderFilmCard(film, collection, container) {\n    this._filmCardComponent = this._createFilmCard(film);\n\n    collection.set(film.id, this._filmCardComponent);\n    render(container, this._filmCardComponent, RenderPosition.BEFOREEND);\n  }\n\n  _reRenderFilmCard(film, collection) {\n    this._filmCardComponent = this._createFilmCard(film);\n\n    replace(this._filmCardComponent, collection.get(film.id));\n    collection.set(film.id, this._filmCardComponent);\n  }\n\n  _renderExtraFilmCard(film, collection, container) {\n    const filmCardComponent = this._createFilmCard(film);\n\n    if (collection.has(film.id)) {\n      replace(filmCardComponent, collection.get(film.id));\n      collection.set(film.id, filmCardComponent);\n    }\n    if (collection.size < FILM_EXTRA_COUNT) {\n      render(container, filmCardComponent, RenderPosition.BEFOREEND);\n      collection.set(film.id, filmCardComponent);\n    }\n  }\n\n  _closeFilmDetails() {\n    remove(this._filmDetailsComponent);\n    this._filmDetailsComponent = null;\n    document.removeEventListener(`keydown`, this._escKeyDownHandler);\n  }\n\n  _escKeyDownHandler(evt) {\n    escPressHandler(evt, this._closeFilmDetails);\n  }\n\n  _renderFilmDetails(film) {\n    if (this._filmDetailsComponent) {\n      remove(this._filmDetailsComponent);\n    }\n\n    this._filmDetailsId = film.id;\n\n    this._filmDetailsComponent = new FilmDetailsView(film);\n    this._commentsComponent = new CommentsView(film);\n\n    document.addEventListener(`keydown`, this._escKeyDownHandler);\n\n    this._filmDetailsComponent.setCloseButtonClickHandler(() => this._closeFilmDetails());\n    this._filmDetailsComponent.setWatchlistChangeHandler(() => this._handleWatchlistClick(film));\n    this._filmDetailsComponent.setWatchedChangeHandler(() => this._handleWatchedClick(film));\n    this._filmDetailsComponent.setFavoriteChangeHandler(() => this._handleFavoriteClick(film));\n\n    render(this._filmListContainer, this._filmDetailsComponent, RenderPosition.BEFOREEND);\n    render(this._filmDetailsComponent, this._commentsComponent, RenderPosition.BEFOREEND);\n  }\n\n  _handleWatchlistClick(film) {\n    this._handleFilmChange(\n        Object.assign(\n            {},\n            film,\n            {\n              isWatchlist: !film.isWatchlist\n            }\n        )\n    );\n  }\n\n  _handleWatchedClick(film) {\n    this._handleFilmChange(\n        Object.assign(\n            {},\n            film,\n            {\n              isWatched: !film.isWatched\n            }\n        )\n    );\n  }\n\n  _handleFavoriteClick(film) {\n    this._handleFilmChange(\n        Object.assign(\n            {},\n            film,\n            {\n              isFavorite: !film.isFavorite\n            }\n        )\n    );\n  }\n\n  _handleShowMoreButtonClick() {\n    this._renderFilms(this._renderedFilmCount, this._renderedFilmCount + FILM_COUNT_PER_STEP, this._cardComponent, this._filmsContainer);\n    this._renderedFilmCount += FILM_COUNT_PER_STEP;\n\n    if (this._renderedFilmCount >= this._films.length) {\n      remove(this._showMoreButtonComponent);\n    }\n  }\n\n  _renderShowMoreButton() {\n    render(this._filmsList, this._showMoreButtonComponent, RenderPosition.BEFOREEND);\n    this._showMoreButtonComponent.setShowMoreClickHandler(this._handleShowMoreButtonClick);\n  }\n\n  _renderFilms(from, to, collection, container, renderCard = this._renderFilmCard) {\n    this._films\n      .slice(from, to)\n      .forEach((film) => renderCard(film, collection, container));\n  }\n\n  _renderExtraFilms() {\n    render(this._filmListComponent, this._topRatedFilmsComponent, RenderPosition.BEFOREEND);\n    render(this._filmListComponent, this._mostCommentedFilmsComponent, RenderPosition.BEFOREEND);\n\n    this._extraContainers = this._filmListComponent.getElement().querySelectorAll(`.films-list--extra .films-list__container`);\n    this._topRatedContainer = this._extraContainers[0];\n    this._mostCommentedContainer = this._extraContainers[1];\n\n    this._renderFilms(0, FILM_EXTRA_COUNT, this._cardTopRatedComponent, this._topRatedContainer, this._renderExtraFilmCard);\n    this._renderFilms(0, FILM_EXTRA_COUNT, this._cardMostCommentedComponent, this._mostCommentedContainer, this._renderExtraFilmCard);\n  }\n\n  _renderFilmList() {\n    this._renderSort();\n\n    if (this._films.length === 0) {\n      this._renderNoFilms();\n      return;\n    }\n\n    this._renderFilms(0, Math.min(this._films.length, FILM_COUNT_PER_STEP), this._cardComponent, this._filmsContainer);\n\n    if (this._films.length > FILM_COUNT_PER_STEP) {\n      this._renderShowMoreButton();\n    }\n  }\n\n  _clearFilmList() {\n    this._cardComponent.forEach((component) => remove(component));\n    this._cardComponent = new Map();\n    this._renderedFilmCount = FILM_COUNT_PER_STEP;\n    remove(this._showMoreButtonComponent);\n  }\n\n}\n","import dayjs from \"dayjs\";\n\nexport const getRandomInteger = (a = 0, b = 1) => {\n  const lower = Math.ceil(Math.min(a, b));\n  const upper = Math.floor(Math.max(a, b));\n\n  return Math.floor(lower + Math.random() * (upper - lower + 1));\n};\n\nexport const getRandomNumber = (min, max) => {\n  return Math.random() * (max - min) + min;\n};\n\nexport const getElementFromArray = (array) => {\n  const randomIndex = getRandomInteger(0, array.length - 1);\n\n  return array[randomIndex];\n};\n\nexport const generateSentenceFromString = (string) => {\n  const sentencesArray = string.split(`. `);\n  const sentence = getElementFromArray(sentencesArray);\n\n  return sentence;\n};\n\nexport const generateRandomArray = (array, minCount, maxCount) => {\n  const count = getRandomInteger(minCount, maxCount);\n  const randomArray = new Array(count).fill().map(() => getElementFromArray(array));\n\n  return randomArray;\n};\n\nexport const generateRandomDate = function (start, end) {\n  const randomDate = new Date(start.getTime() + Math.random() * (end.getTime() - start.getTime()));\n  return dayjs(randomDate);\n};\n\n// обновляет массив, заменяя обновлённый элемент\nexport const updateItem = (items, update) => {\n  const index = items.findIndex((item) => item.id === update.id);\n\n  if (index === -1) {\n    return items;\n  }\n\n  return [\n    ...items.slice(0, index),\n    update,\n    ...items.slice(index + 1)\n  ];\n};\n","import dayjs from \"dayjs\";\n\nexport const getFormatTime = (seconds) => {\n  const hours = `${Math.floor(seconds / 3600)}h`;\n  const minutes = `${Math.floor(seconds / 60) % 60}m`;\n  const formatTime = hours.slice(0, 1) === `0` ? `${minutes}` : `${hours} ${minutes}`;\n\n  return formatTime;\n};\n\nexport const checkActiveElement = (active, activeClass) => active\n  ? activeClass\n  : ``;\n\nexport const escPressHandler = (evt, action) => {\n  if (evt.key === `Escape` || evt.key === `Esc`) {\n    evt.preventDefault();\n    action();\n  }\n};\n\nconst getWeightForNoDataFilm = (dataA, dataB) => {\n  if (dataA === null && dataB === null) {\n    return 0;\n  }\n\n  if (dataA === null) {\n    return 1;\n  }\n\n  if (dataB === null) {\n    return -1;\n  }\n\n  return null;\n};\n\nexport const sortByDate = (filmA, filmB) => {\n  const weight = getWeightForNoDataFilm(filmA.releaseDate, filmB.releaseDate);\n\n  if (weight !== null) {\n    return weight;\n  }\n\n  return dayjs(filmB.releaseDate).diff(filmA.releaseDate);\n};\n\nexport const sortByRating = (filmA, filmB) => {\n  const weight = getWeightForNoDataFilm(filmA.rating, filmB.rating);\n\n  if (weight !== null) {\n    return weight;\n  }\n\n  return filmB.rating - filmA.rating;\n};\n\n","import AbstractView from \"../view/abstract.js\";\n\nexport const RenderPosition = {\n  AFTERBEGIN: `afterbegin`,\n  BEFOREEND: `beforeend`\n};\n\nexport const renderTemplate = (container, template, place) => {\n  if (container instanceof AbstractView) {\n    container = container.getElement();\n  }\n\n  container.insertAdjacentHTML(place, template);\n};\n\nexport const render = (container, child, place) => {\n\n  if (container instanceof AbstractView) {\n    container = container.getElement();\n  }\n\n  if (child instanceof AbstractView) {\n    child = child.getElement();\n  }\n\n  switch (place) {\n    case RenderPosition.AFTERBEGIN\n      : container.prepend(child);\n      break;\n    case RenderPosition.BEFOREEND\n      : container.append(child);\n      break;\n  }\n};\n\nexport const generateTemplate = (array, template) => {\n  return array.map((element) => template(element)).join(``);\n};\n\nexport const createElement = (template) => {\n  const newElement = document.createElement(`div`);\n  newElement.innerHTML = template;\n\n  return newElement.firstChild;\n};\n\nexport const remove = (component) => {\n  if (!(component instanceof AbstractView)) {\n    throw new Error(`Can remove only components`);\n  }\n\n  component.getElement().remove();\n  component.removeElement();\n};\n\nexport const replace = (newChild, oldChild) => {\n  if (oldChild instanceof AbstractView) {\n    oldChild = oldChild.getElement();\n  }\n\n  if (newChild instanceof AbstractView) {\n    newChild = newChild.getElement();\n  }\n\n  const parent = oldChild.parentElement;\n\n  if (parent === null || oldChild === null || newChild === null) {\n    throw new Error(`Can't replace unexisting elements`);\n  }\n\n  parent.replaceChild(newChild, oldChild);\n};\n","import {createElement} from \"../utils/render.js\";\n\nexport default class Abstract {\n  constructor() {\n    if (new.target === Abstract) {\n      throw new Error(`Can't instantiate Abstract, only concrete one.`);\n    }\n\n    this._element = null;\n    this._callback = {};\n  }\n\n  getTemplate() {\n    throw new Error(`Abstract method not implemented: getTemplate.`);\n  }\n\n  getElement() {\n    if (!this._element) {\n      this._element = createElement(this._getTemplate());\n    }\n\n    return this._element;\n  }\n\n  removeElement() {\n    this._element = null;\n  }\n}\n","import {EMOJIS} from \"../const.js\";\nimport SmartView from \"./smart.js\";\nimport {generateTemplate} from \"../utils/render.js\";\n\nconst createCommentTemplate = (commentElement) => {\n  const {emoji, comment, commentDate, author} = commentElement;\n\n  return `<li class=\"film-details__comment\">\n    <span class=\"film-details__comment-emoji\">\n      <img src=\"./images/emoji/${emoji}.png\" width=\"55\" height=\"55\" alt=\"emoji-smile\">\n    </span>\n    <div>\n      <p class=\"film-details__comment-text\">${comment}</p>\n      <p class=\"film-details__comment-info\">\n        <span class=\"film-details__comment-author\">${author}</span>\n        <span class=\"film-details__comment-day\">${commentDate}</span>\n        <button class=\"film-details__comment-delete\">Delete</button>\n      </p>\n    </div>\n  </li>`;\n};\n\nconst createEmojiTemplate = (emoji) => {\n  return `<input class=\"film-details__emoji-item visually-hidden\" name=\"comment-emoji\" type=\"radio\" id=\"emoji-${emoji}\" value=\"${emoji} checked\">\n    <label class=\"film-details__emoji-label\" for=\"emoji-${emoji}\">\n      <img src=\"./images/emoji/${emoji}.png\" width=\"30\" height=\"30\" alt=\"emoji-${emoji}\">\n    </label>`;\n};\n\n\nconst createCommentsListTemplate = (film) => {\n  const {comments} = film;\n\n  const commentTemplate = generateTemplate(comments, createCommentTemplate);\n  const emojiTemplate = generateTemplate(EMOJIS, createEmojiTemplate);\n\n  return `<div class=\"film-details__bottom-container\">\n      <section class=\"film-details__comments-wrap\">\n        <h3 class=\"film-details__comments-title\">Comments <span class=\"film-details__comments-count\">${comments.length}</span></h3>\n\n        <ul class=\"film-details__comments-list\">\n          ${commentTemplate}\n        </ul>\n\n        <div class=\"film-details__new-comment\">\n          <div for=\"add-emoji\" class=\"film-details__add-emoji-label\">\n\n          </div>\n\n          <label class=\"film-details__comment-label\">\n            <textarea class=\"film-details__comment-input\" placeholder=\"Select reaction below and write comment here\" name=\"comment\"></textarea>\n          </label>\n\n          <div class=\"film-details__emoji-list\">\n            ${emojiTemplate}\n          </div>\n        </div>\n      </section>\n    </div>`;\n};\n\nexport default class Comments extends SmartView {\n  constructor(film) {\n    super();\n    this._film = film;\n\n    this._emojiClickHandler = this._emojiClickHandler.bind(this);\n    this.setEmojiClickHandler(this._emojiClickHandler);\n  }\n\n  _getTemplate() {\n    return createCommentsListTemplate(this._film);\n  }\n\n  createCommentsEmoji(evt) {\n    const emojiName = evt.target.value.split(` `, 1);\n    const commentsEmoji = `<img src=\"images/emoji/${emojiName}.png\" width=\"55\" height=\"55\" alt=\"${emojiName}\" value=\"${emojiName}\"></img>`;\n\n    return commentsEmoji;\n  }\n\n  _chooseEmoji(evt) {\n    const emojiContainer = document.querySelector(`.film-details__add-emoji-label`);\n    emojiContainer.removeChild(emojiContainer.firstChild);\n\n    const emoji = this.createCommentsEmoji(evt);\n    emojiContainer.innerHTML = emoji;\n  }\n\n  _emojiClickHandler(evt) {\n    if (evt.target.classList.contains(`film-details__emoji-item`)) {\n      evt.preventDefault();\n      this._chooseEmoji(evt);\n    }\n  }\n\n  setEmojiClickHandler() {\n    const emojiList = this.getElement().querySelector(`.film-details__emoji-list`);\n    emojiList.addEventListener(`click`, this._emojiClickHandler);\n  }\n}\n","import {MAX_DESCRIPTION_LENGTH} from \"../const.js\";\nimport {checkActiveElement} from \"../utils/project.js\";\nimport AbstractView from \"./abstract.js\";\n\nconst createFilmCardTemplate = (film) => {\n\n  const {filmPoster, filmTitle, rating, releaseYear, filmDuration, genres, description, commentsCount, isWatchlist, isWatched, isFavorite} = film;\n\n  const shortDescription = description.toString().length > MAX_DESCRIPTION_LENGTH ? `${description.slice(0, MAX_DESCRIPTION_LENGTH - 1)} …` : description;\n\n  const genre = genres[0];\n\n  const activeClass = `film-card__controls-item--active`;\n\n  const isWatchlistActive = checkActiveElement(isWatchlist, activeClass);\n  const isWatchedActive = checkActiveElement(isWatched, activeClass);\n  const isFavoriteActive = checkActiveElement(isFavorite, activeClass);\n\n  return (\n    `<article class=\"film-card\">\n      <h3 class=\"film-card__title\">${filmTitle}</h3>\n      <p class=\"film-card__rating\">${rating}</p>\n      <p class=\"film-card__info\">\n        <span class=\"film-card__year\">${releaseYear}</span>\n        <span class=\"film-card__duration\">${filmDuration}</span>\n        <span class=\"film-card__genre\">${genre}</span>\n      </p>\n      <img src=\"./images/posters/${filmPoster}\" alt=\"\" class=\"film-card__poster\">\n      <p class=\"film-card__description\">${shortDescription}</p>\n      <a class=\"film-card__comments\">${commentsCount} comments</a>\n      <form class=\"film-card__controls\">\n        <button class=\"film-card__controls-item button film-card__controls-item--add-to-watchlist ${isWatchlistActive}\">Add to watchlist</button>\n        <button class=\"film-card__controls-item button film-card__controls-item--mark-as-watched ${isWatchedActive}\">Mark as watched</button>\n        <button class=\"film-card__controls-item button film-card__controls-item--favorite ${isFavoriteActive}\">Mark as favorite</button>\n      </form>\n    </article>`\n  );\n};\n\nexport default class FilmCard extends AbstractView {\n  constructor(film) {\n    super();\n    this._film = film;\n\n    this._filmCardClickHandler = this._filmCardClickHandler.bind(this);\n    this._watchlistClickHandler = this._watchlistClickHandler.bind(this);\n    this._watchedClickHandler = this._watchedClickHandler.bind(this);\n    this._favoriteClickHandler = this._favoriteClickHandler.bind(this);\n  }\n\n  _getTemplate() {\n    return createFilmCardTemplate(this._film);\n  }\n\n  _filmCardClickHandler(evt) {\n    if (evt.target.classList.contains(`film-card__poster`)\n      || evt.target.classList.contains(`film-card__title`)\n      || evt.target.classList.contains(`film-card__comments`)) {\n      evt.preventDefault();\n      this._callback.filmCardClick();\n    }\n  }\n\n  _watchlistClickHandler(evt) {\n    evt.preventDefault();\n    this._callback.watchlistClick();\n  }\n\n  _watchedClickHandler(evt) {\n    evt.preventDefault();\n    this._callback.watchedClick();\n  }\n\n  _favoriteClickHandler(evt) {\n    evt.preventDefault();\n    this._callback.favoriteClick();\n  }\n\n  setFilmCardClickHandler(callback) {\n    this._callback.filmCardClick = callback;\n    this.getElement()\n        .addEventListener(`click`, this._filmCardClickHandler);\n  }\n\n  setWatchlistClickHandler(callback) {\n    this._callback.watchlistClick = callback;\n    this.getElement()\n        .querySelector(`.film-card__controls-item--add-to-watchlist`)\n        .addEventListener(`click`, this._watchlistClickHandler);\n  }\n\n  setWatchedClickHandler(callback) {\n    this._callback.watchedClick = callback;\n    this.getElement()\n        .querySelector(`.film-card__controls-item--mark-as-watched`)\n        .addEventListener(`click`, this._watchedClickHandler);\n  }\n\n  setFavoriteClickHandler(callback) {\n    this._callback.favoriteClick = callback;\n    this.getElement()\n        .querySelector(`.film-card__controls-item--favorite`)\n        .addEventListener(`click`, this._favoriteClickHandler);\n  }\n}\n","import {getRandomInteger} from \"../utils/common.js\";\nimport AbstractView from \"./abstract.js\";\n\n\nexport const FILM_COUNT = 12;\nconst FILM_MIN_COUNT = 100500;\nconst FILM_MAX_COUNT = 1000500;\n\nconst ALL_FILM_COUNT = (FILM_COUNT === 0)\n  ? 0\n  : getRandomInteger(FILM_MIN_COUNT, FILM_MAX_COUNT);\n\nconst filmsCountFormat = ALL_FILM_COUNT.toLocaleString(`ru-RU`);\n\nconst createFilmCountTemplate = () => {\n  return (\n    `<p>${filmsCountFormat} movies inside</p>`\n  );\n};\n\nexport default class UserRating extends AbstractView {\n  _getTemplate() {\n    return createFilmCountTemplate();\n  }\n}\n\n","import {generateTemplate} from \"../utils/render.js\";\nimport {checkActiveElement} from \"../utils/project.js\";\nimport SmartView from \"./smart.js\";\n\nconst createGenresTemplate = (genre) => {\n  return `<span class=\"film-details__genre\">${genre}</span>`;\n};\n\nconst createFilmDetailsTemplate = (state) => {\n  const {filmPoster, filmTitle, rating, filmDuration, genres, description, filmOriginTitle, director, writers, actors, releaseDate, country, ageLimit, isWatchlist, isWatched, isFavorite} = state;\n\n  const filmGenresTemplate = generateTemplate(genres, createGenresTemplate);\n\n  const checkedClass = `checked`;\n\n  const isWatchlistChecked = checkActiveElement(isWatchlist, checkedClass);\n  const isWatchedChecked = checkActiveElement(isWatched, checkedClass);\n  const isFavoriteChecked = checkActiveElement(isFavorite, checkedClass);\n\n  return (\n    `<section class=\"film-details\">\n      <form class=\"film-details__inner\" action=\"\" method=\"get\">\n        <div class=\"film-details__top-container\">\n          <div class=\"film-details__close\">\n            <button class=\"film-details__close-btn\" type=\"button\">close</button>\n          </div>\n          <div class=\"film-details__info-wrap\">\n            <div class=\"film-details__poster\">\n              <img class=\"film-details__poster-img\" src=\"./images/posters/${filmPoster}\" alt=\"\">\n\n              <p class=\"film-details__age\">${ageLimit}</p>\n            </div>\n\n            <div class=\"film-details__info\">\n              <div class=\"film-details__info-head\">\n                <div class=\"film-details__title-wrap\">\n                  <h3 class=\"film-details__title\">${filmTitle}</h3>\n                  <p class=\"film-details__title-original\">Original: ${filmOriginTitle}</p>\n                </div>\n\n                <div class=\"film-details__rating\">\n                  <p class=\"film-details__total-rating\">${rating}</p>\n                </div>\n              </div>\n\n              <table class=\"film-details__table\">\n                <tbody><tr class=\"film-details__row\">\n                  <td class=\"film-details__term\">Director</td>\n                  <td class=\"film-details__cell\">${director}</td>\n                </tr>\n                <tr class=\"film-details__row\">\n                  <td class=\"film-details__term\">Writers</td>\n                  <td class=\"film-details__cell\">${writers}</td>\n                </tr>\n                <tr class=\"film-details__row\">\n                  <td class=\"film-details__term\">Actors</td>\n                  <td class=\"film-details__cell\">${actors}</td>\n                </tr>\n                <tr class=\"film-details__row\">\n                  <td class=\"film-details__term\">Release Date</td>\n                  <td class=\"film-details__cell\">${releaseDate}</td>\n                </tr>\n                <tr class=\"film-details__row\">\n                  <td class=\"film-details__term\">Runtime</td>\n                  <td class=\"film-details__cell\">${filmDuration}</td>\n                </tr>\n                <tr class=\"film-details__row\">\n                  <td class=\"film-details__term\">Country</td>\n                  <td class=\"film-details__cell\">${country}</td>\n                </tr>\n                <tr class=\"film-details__row\">\n                  <td class=\"film-details__term\">${genres.length > 1 ? `Genres` : `Genre`}</td>\n                  <td class=\"film-details__cell\">${filmGenresTemplate}</td>\n                </tr>\n              </tbody></table>\n\n              <p class=\"film-details__film-description\">\n                ${description}\n              </p>\n            </div>\n          </div>\n\n          <section class=\"film-details__controls\">\n            <input type=\"checkbox\" class=\"film-details__control-input visually-hidden\" id=\"watchlist\" name=\"watchlist\" ${isWatchlistChecked}>\n            <label for=\"watchlist\" class=\"film-details__control-label film-details__control-label--watchlist\">Add to watchlist</label>\n\n            <input type=\"checkbox\" class=\"film-details__control-input visually-hidden\" id=\"watched\" name=\"watched\" ${isWatchedChecked}>\n            <label for=\"watched\" class=\"film-details__control-label film-details__control-label--watched\">Already watched</label>\n\n            <input type=\"checkbox\" class=\"film-details__control-input visually-hidden\" id=\"favorite\" name=\"favorite\" ${isFavoriteChecked}>\n            <label for=\"favorite\" class=\"film-details__control-label film-details__control-label--favorite\">Add to favorites</label>\n          </section>\n        </div>\n\n      </form>\n    </section>`\n  );\n};\n\nexport default class FilmDetails extends SmartView {\n  constructor(film) {\n    super();\n    this._state = film;\n\n    this._closeButtonClickHandler = this._closeButtonClickHandler.bind(this);\n    this._watchlistToggleHandler = this._watchlistToggleHandler.bind(this);\n    this._watchedToggleHandler = this._watchedToggleHandler.bind(this);\n    this._favoriteToggleHandler = this._favoriteToggleHandler.bind(this);\n  }\n\n  _getTemplate() {\n    return createFilmDetailsTemplate(this._state);\n  }\n\n  _closeButtonClickHandler(evt) {\n    evt.preventDefault();\n    this._callback.click();\n  }\n\n  _watchlistToggleHandler(evt) {\n    evt.preventDefault();\n    this._callback.watchlistClick();\n  }\n\n  _watchedToggleHandler(evt) {\n    evt.preventDefault();\n    this._callback.watchedClick();\n  }\n\n  _favoriteToggleHandler(evt) {\n    evt.preventDefault();\n    this._callback.favoriteClick();\n  }\n\n  setCloseButtonClickHandler(callback) {\n    const closeButton = this.getElement().querySelector(`.film-details__close-btn`);\n    this._callback.click = callback;\n    closeButton.addEventListener(`click`, this._closeButtonClickHandler);\n  }\n\n  setWatchlistChangeHandler(callback) {\n    this._callback.watchlistClick = callback;\n    this.getElement()\n        .querySelector(`#watchlist`)\n        .addEventListener(`change`, this._watchlistToggleHandler);\n  }\n\n  setWatchedChangeHandler(callback) {\n    this._callback.watchedClick = callback;\n    this.getElement()\n        .querySelector(`#watched`)\n        .addEventListener(`change`, this._watchedToggleHandler);\n  }\n\n  setFavoriteChangeHandler(callback) {\n    this._callback.favoriteClick = callback;\n    this.getElement()\n        .querySelector(`#favorite`)\n        .addEventListener(`change`, this._favoriteToggleHandler);\n  }\n}\n","import AbstractView from \"./abstract.js\";\n\nconst createFilmsBlockTemplate = () => {\n  return (\n    `<section class=\"films\">\n      <section class=\"films-list\">\n        <h2 class=\"films-list__title visually-hidden\">All movies. Upcoming</h2>\n\n        <div class=\"films-list__container\">\n\n        </div>\n\n      </section>\n    </section>`\n  );\n};\n\n\nexport default class FilmsBlock extends AbstractView {\n  _getTemplate() {\n    return createFilmsBlockTemplate();\n  }\n}\n","import AbstractView from \"./abstract.js\";\nimport {SortType} from \"../const.js\";\n\nconst createFilmsSortTemplate = () => {\n  return (\n    `<ul class=\"sort\">\n      <li><a href=\"#\" class=\"sort__button sort__button--active\" data-sort-type=\"${SortType.DEFAULT}\">Sort by default</a></li>\n      <li><a href=\"#\" class=\"sort__button\" data-sort-type=\"${SortType.DATE}\">Sort by date</a></li>\n      <li><a href=\"#\" class=\"sort__button\" data-sort-type=\"${SortType.RATING}\">Sort by rating</a></li>\n    </ul>`\n  );\n};\n\nexport default class Sort extends AbstractView {\n  constructor() {\n    super();\n\n    this._sortTypeChangeHandler = this._sortTypeChangeHandler.bind(this);\n  }\n\n  _getTemplate() {\n    return createFilmsSortTemplate();\n  }\n\n  _sortTypeChangeHandler(evt) {\n    const sortButtons = this.getElement().querySelectorAll(`.sort__button`);\n\n    if (evt.target.tagName !== `A`) {\n      return;\n    }\n\n    evt.preventDefault();\n    sortButtons.forEach((button) => button.classList.remove(`sort__button--active`));\n    evt.target.classList.add(`sort__button--active`);\n\n    this._callback.sortTypeChange(evt.target.dataset.sortType);\n  }\n\n  setSortTypeChangeHandler(callback) {\n    this._callback.sortTypeChange = callback;\n    this.getElement().addEventListener(`click`, this._sortTypeChangeHandler);\n  }\n}\n\n","import AbstractView from \"./abstract.js\";\n\nconst createFilterItemTemplate = (filters) => {\n\n  const {watchlist, history, favorites} = filters;\n\n  return (\n    `<nav class=\"main-navigation\">\n      <div class=\"main-navigation__items\">\n        <a href=\"#all\" class=\"main-navigation__item main-navigation__item--active\">All movies</a>\n        <a href=\"#watchlist\" class=\"main-navigation__item\">Watchlist <span class=\"main-navigation__item-count\">${watchlist}</span></a>\n        <a href=\"#history\" class=\"main-navigation__item\">History <span class=\"main-navigation__item-count\">${history}</span></a>\n        <a href=\"#favorites\" class=\"main-navigation__item\">Favorites <span class=\"main-navigation__item-count\">${favorites}</span></a>\n      </div>\n      <a href=\"#stats\" class=\"main-navigation__additional\">Stats</a>\n    </nav>`\n  );\n};\n\nexport default class Filter extends AbstractView {\n  constructor(filters) {\n    super();\n    this._filters = filters;\n  }\n\n  _getTemplate() {\n    return createFilterItemTemplate(this._filters);\n  }\n}\n","import AbstractView from \"./abstract.js\";\n\nconst createMostCommentedFilmsTemplate = () => {\n  return (\n    `<section class=\"films-list--extra\">\n      <h2 class=\"films-list__title\">Most commented</h2>\n\n      <div class=\"films-list__container\">\n      </div>\n    </section>`\n  );\n};\n\nexport default class MostCommentedFilms extends AbstractView {\n  _getTemplate() {\n    return createMostCommentedFilmsTemplate();\n  }\n}\n","import AbstractView from \"./abstract.js\";\n\nconst createNoFilmsTemplate = () => {\n  return `<section class=\"films\">\n    <section class=\"films-list\">\n      <h2 class=\"films-list__title\">There are no movies in our database</h2>\n    </section>\n  </section>`;\n};\n\nexport default class FilmsList extends AbstractView {\n  _getTemplate() {\n    return createNoFilmsTemplate();\n  }\n}\n","import AbstractView from \"./abstract.js\";\n\nconst createShowMoreButtonTemplate = () => {\n  return (\n    `<button class=\"films-list__show-more\">Show more</button>`\n  );\n};\n\nexport default class ShowMoreButton extends AbstractView {\n  constructor() {\n    super();\n    this._showMoreClickHandler = this._showMoreClickHandler.bind(this);\n  }\n\n  _getTemplate() {\n    return createShowMoreButtonTemplate();\n  }\n\n  _showMoreClickHandler(evt) {\n    evt.preventDefault();\n    this._callback.click();\n  }\n\n  setShowMoreClickHandler(callback) {\n    this._callback.click = callback;\n    this.getElement().addEventListener(`click`, this._showMoreClickHandler);\n  }\n}\n","import AbstractView from \"./abstract.js\";\n\nexport default class Smart extends AbstractView {\n  constructor() {\n    super();\n    this._state = {};\n  }\n\n  updateData(update) {\n    if (!update) {\n      return;\n    }\n\n    this._state = Object.assign(\n        {},\n        this._state,\n        update\n    );\n\n    this.updateElement();\n  }\n\n  updateElement() {\n    let prevElement = this.getElement();\n    const parent = prevElement.parentElement;\n    this.removeElement();\n\n    const newElement = this.getElement();\n\n    parent.replaceChild(newElement, prevElement);\n  }\n\n}\n","import AbstractView from \"./abstract.js\";\n\nconst createTopRatedFilmsTemplate = () => {\n  return (\n    `<section class=\"films-list--extra\">\n      <h2 class=\"films-list__title\">Top rated</h2>\n\n      <div class=\"films-list__container\">\n      </div>\n    </section>`\n  );\n};\n\n\nexport default class TopRatedFilms extends AbstractView {\n  _getTemplate() {\n    return createTopRatedFilmsTemplate();\n  }\n}\n","import AbstractView from \"./abstract.js\";\n\nconst createUserRatingTemplate = () => {\n  return (\n    `<section class=\"header__profile profile\">\n      <p class=\"profile__rating\">Movie Buff</p>\n      <img class=\"profile__avatar\" src=\"images/bitmap@2x.png\" alt=\"Avatar\" width=\"35\" height=\"35\">\n    </section>`\n  );\n};\n\nexport default class UserRating extends AbstractView {\n  _getTemplate() {\n    return createUserRatingTemplate();\n  }\n}\n"],"sourceRoot":""}